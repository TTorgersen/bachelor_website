
<!doctype html>
<html lang="en">
  <head>
    <title>Avium</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
		
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets\css\style.css">
    <link rel="stylesheet" href="assets\css\ourStyles.css">
    <link rel="stylesheet" href="assets\css\three-dots.css">
    	
    <link rel="stylesheet" type="text/css" href="potree/build/potree/potree.css">
    <link rel="stylesheet" type="text/css" href="potree/libs/jquery-ui/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css" href="potree/libs/openlayers3/ol.css">
    <link rel="stylesheet" type="text/css" href="potree/libs/spectrum/spectrum.css">
    <link rel="stylesheet" type="text/css" href="potree/libs/jstree/themes/mixed/style.css">

    <link rel="stylesheet" type="text/css" href="assets/css/dropzone.css">

    <link rel="icon" href="assets/images/logo.png">
  </head>
  <body >
    <script src="potree/libs/jquery/jquery-3.1.1.min.js"></script>
    <script src="potree/libs/spectrum/spectrum.js"></script>
    <script src="potree/libs/jquery-ui/jquery-ui.min.js"></script>
    <script src="potree/libs/three.js/build/three.min.js"></script>
    <script src="potree/libs/three.js/extra/lines.js"></script>
    <script src="potree/libs/other/BinaryHeap.js"></script>
    <script src="potree/libs/tween/tween.min.js"></script>
    <script src="potree/libs/d3/d3.js"></script>
    <script src="potree/libs/proj4/proj4.js"></script>
    <script src="potree/libs/openlayers3/ol.js"></script>
    <script src="potree/libs/i18next/i18next.js"></script>
    <script src="potree/libs/jstree/jstree.js"></script>
    <script src="potree/build/potree/potree.js"></script>
    <script src="potree/libs/plasio/js/laslaz.js"></script>

    <script src="assets/js/index.js"></script>
    <!-- <script data-main="scripts/main" src="scripts/require.js"></script> -->

		
		<div id="mainDiv" class="wrapper d-flex align-items-stretch">
      <nav id="sidebar">
				<div class="p-4 pt-5">
          <!-- <a href="/" id="mainLogo"></a> -->
		  		<a href="/" class="img logo mb-5" style="background-image: url(assets/images/logo.png);"></a>
	        <ul id="routing" class="list-unstyled components mb-5">
	          <li>
	            <a href="/" data-toggle="collapse" aria-expanded="false">Home</a>
	          </li>
	          <li>
              <a href="#drops" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Samples</a>
              <ul class="collapse list-unstyled" id="drops">
                <li>
                  <a href="/sample1">Annotation Sample</a>
                </li>
                <li>
                  <a href="/sample2">Flightpath Sample</a>
                </li>
                <li>
                  <a href="/sample3">Trimmed Flightpath Sample</a>
                </li>
                <li>
                  <a href="/sample4">Group 1 Sample #1</a>
                </li>
                <li>
                  <a href="/sample5">Group 1 Sample #2</a>
                </li>
                <li>
                  <a href="/sample6">Route Planner</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="/upload" data-toggle="collapse" araia-expanded="false">Upload Point Cloud</a>
            </li>
	        </ul>

	        <div class="footer">
						  <p>Copyright &copy University of Stavanger</p>
	        </div>

        </div>
        <div id="imgFooter">
          <img src="assets/images/logos.png">
        </div>
      </nav>
      <div id="loader" class="dot-revolution"></div>
      <div id="collapser" class="p-4 p-md-5">
      <button type="button" id="sidebarCollapse" class="btn btn-primary">
        <i class="fa fa-bars"></i>
        <span class="sr-only">Toggle Menu</span>
      </button>
    </div>

        <!-- Page Content  -->
        <div id="content" class="p-4 p-md-5">
        <!-- Application Root -->
        <div id="app"></div>
        </div>

        <!-- Home Template -->
        <script id="home-template" type="text/x-handlebars-template">      
            <div class="container-fluid">
              <div class="row">
                <h1 class="heading">Avium 3D cloudpoints </h1></div><br><br>
              <div class="row">
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-header">
                      <img class="card-img-top" src="assets/images/digital_draft_3.png" alt="photo of sample 1" id="img1">
                    </div>
                    <div class="card-body">
                      <h4 class="card-title">Sample #1</h4>
                      <p class="card-category">Railway Track</p>
                      <a href="/sample1" class="btn" style="color:#E3CF5B; background-color: #252A37;">Click me</a>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card">
                    <div class="card-header">
                      <img class="card-img-top" src="assets/images/maze.png" alt="photo of sample 1" id="img1">
                    </div>
                    <div class="card-body">
                      <h4 class="card-title">Sample #4</h4>
                      <p class="card-category">Simulation Maze</p>
                      <a href="/sample4" class="btn" style="color:#E3CF5B; background-color: #252A37;">Click me</a>
                    </div>
                  </div>
                </div>
              </div>
        </script>

        <!-- Potree Template -->
        
        <script id="potree-template" type="text/x-handlebars-template">
          <div class="potree_container">
            <div id="potree_render_area"></div>
            <div id="potree_sidebar_container"> </div>
            <nav id="potreeToolbar" class="navbar navbar-expand-lg">
              <a class="navbar-brand">Options</a>

              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>

              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                  <li class="nav-item dropdown">
                    <button class="toolButton"><i class="fa fa-cogs"></i><br>Background <span class="fa fa-caret-down"></span></button>
                    <div class="dropdown-content">
                      <button id="gradBtn">Gradient</button>
                      <button id="skyBtn">Skybox</button>
                      <button id="blackBtn">Black</button>
                      <button id="whiteBtn">White</button>
                    </div>
                  </li>
                  <li class="nav-item dropdown">
                    <button class="toolButton"><i class="fa fa-area-chart"></i><br>Gradient <span class="fa fa-caret-down"></span></button>
                    <div class="dropdown-content">
                      <button id="rgba">RGBA (if exists)</button>
                      <button id="grad1">Gradient 1</button>
                      <button id="grad2">Gradient 2</button>
                      <button id="grad3">Gradient 3</button>
                    </div>
                  </li>
                  <li class="nav-item dropdown">
                    <button class="toolButton"><i class="fa fa-bar-chart-o"></i><br>Point Density <span class="fa fa-caret-down"></span></button>
                    <div class="dropdown-content">
                      <input id="setPoints" type="range" min="0.5" class="slider" max="10" step="0.5" value="1" data-orientation="vertical" onchange="rangevalue.value=value">
                      <br><output id="rangevalue">1</output>
                    </div>
                  </li>
                  <li id="uploadLi" class="nav-item">
                    <button id="modBtn" class="toolButton"><i class="fa fa-upload"></i><br>Upload Flightpath</button>
                  </li>
                  <li id="fpLi" class="nav-item">
                    <button id="flightPathBtn" class="toolButton"><i class='fa fa-map-o'></i><br><span id="fpToggle">Show Flightpath</span></button>
                  </li>
                  <!-- <li id="animLi" class="nav-item">
                    <button id="animBtn" class="toolButton"><i class='fa fa-paper-plane-o'></i><br><span id="flightSpan">Show Flight </span></button>
                  </li> -->
                  <li id="controlDiv" class="nav-item dropdown">
                    <button class="toolButton"><i class="fa fa-paper-plane-o"></i><br>Flight Controls <span class="fa fa-caret-down"></span></button>
                    <div id="controls" class="dropdown-content">
                      <button id="anim1"><span class="fa fa-play"></span></button>
                      <button id="anim2"><span class="fa fa-pause"></span></button>
                      <button id="anim3"><span class="fa fa-stop"></span></button>
                    </div>
                  </li>
                  <li id="fpMaker" class="nav-item">
                    <button id="flightPlanBtn" class="toolButton"><i class="fa fa-map-pin"></i><br><span id="fpStart">Plan Route</span></button>
                  </li>
                  <li id="annoMaker" class="nav-item">
                    <button id="activateAnno" class="toolButton"><i class="fa fa-map-pin"></i><br>Add Annotation</button>
                  </li>
                  <li id="insertImg" class="nav-item">
                    <button id="insertImgBtn" class="toolButton"><i class="fa fa-photo"></i><br>Insert Images</button>
                  </li>
                </ul>
              </div>
            </nav>  
            <!-- <div class="annotation-sidebar" id="anno2" style="display: none">
                <div class="anno-close">
                    <i class="fa fa-window-close-o" aria-hidden="true" id="closer2"></i>
                </div>
                <div class="anno-title">Test 2</div>
                <div class="anno-description"> Beskrivelse 2</div>
            </div>
            <div class="annotation-sidebar" id="anno3" style="display: none">
                <div class="anno-close">
                    <i class="fa fa-window-close-o" aria-hidden="true" id="closer3"></i>
                </div>
                <div class="anno-title">Test 3</div>
                <div class="anno-description">Beskrivelseeee</div>
            </div>-->
            <div class="annotation-sidebar-points" id="annoPoints" style="display: none">
              <div class="anno-close">
                  <i class="fa fa-window-close-o" aria-hidden="true" id="closerPoints"></i>
              </div>
              <div class="anno-title">List of Points</div>
              <div class="anno-description-points" id="pointContainer">
                <div id="coords"></div>
              </div>
              <button id="pointCoordinate">Show Coordinates</button>
              <button id="exportPoints">Export</button>
          </div>
            <!-- <div class="annotation-sidebar" id="anno" style="display: none">
                <div class="anno-close">
                    <i class="fa fa-window-close-o" aria-hidden="true" id="closer"></i>
                </div>
                <div class="anno-title">Annotation 1</div>
                <div class="anno-description">This annotation contains stored images that can be inspected in a modal. 
                    <div class="anno-container">
                        <!-- Images used to open the lightbox -->
                            <!-- <img src="assets/images/digital_draft_3.png" class="anno-image" alt="test image" onclick="openModal();currentSlide(1)" class="hover-shadow">
                            <img src="assets/images/digital_draft_1.png" class="anno-image" alt="test image" onclick="openModal();currentSlide(2)" class="hover-shadow">
                            <img src="assets/images/digital_draft_2.png" class="anno-image" alt="test image" onclick="openModal();currentSlide(3)" class="hover-shadow">
                            <img src="assets/images/forest.png" class="anno-image" alt="test image" onclick="openModal();currentSlide(4)" class="hover-shadow"> -->
                          <!-- The Modal/Lightbox -->
                          <!-- <div id="myModal" class="modal">
                            <span class="close cursor" onclick="closeModal()">&times;</span>
                            <div class="modal-content">
  
                              <div class="mySlides">
                                <div class="numbertext">1 / 4</div>
                                <img src="assets/images/digital_draft_3.png" style="width:50%">
                                <p id="caption">Image one</p>
                              </div>
  
                              <div class="mySlides">
                                <div class="numbertext">2 / 4</div>
                                <img src="assets/images/digital_draft_1.png" style="width:50%">
                                <p id="caption">Image two</p>
                              </div>
  
                              <div class="mySlides">
                                <div class="numbertext">3 / 4</div>
                                <img src="assets/images/digital_draft_2.png" style="width:50%">
                                <p id="caption">Image three</p>
                              </div>
  
                              <div class="mySlides">
                                <div class="numbertext">4 / 4</div>
                                <img src="assets/images/forest.png" style="width:50%">
                                <p id="caption">Image four</p>
                              </div>
  
             -->
                              <!-- Next/previous controls -->
                              <!-- <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                              <a class="next" onclick="plusSlides(1)">&#10095;</a> -->
  
                              <!-- Caption text -->
                              <!-- <div class="caption-container">
                                <p id="caption"></p>
                              </div>
                            
                            </div>
                          </div>
                           
                       </div> 

                </div>
            </div> --> 

          </div>
        </div>
        </script>
        <!-- Upload Template -->
        <script id="upload-template" type="text/x-handlebars-template">

          <h1 id="fileUpload">Upload Point Cloud</h1>
              <div class="col-md-4">
                <h5>Accepted filetypes:</h5>
                <p>
                  <ul>
                    <li>
                      LAS-file
                    </li>
                    <li>
                      LAZ-file
                    </li>
                    <li>
                      txt-file where each line has "X, Y, Z" coordinates representing a point
                    </li>
                  </ul>
                </p>
                <form action='/' method='POST' encType="multipart/form-data" onSubmit="JavaScript:Loader()">
                  <input class="file" type="file" name="pcUpload" id="cloudUpload" required/><br>
                  <input id="uploader" type='submit' value='Upload!' />
                </form>  
                <br><p><i> Note that large clouds may take a while to load</i></p>
              </div>
            </div>
          </div>
        </script>

        <!-- Error Template -->
          <script id="error-template" type="text/x-handlebars-template">
          <h1>404 Page NOT Found</h1>
          <p>{{message}}</p>
        </script>
      </div>

    </div>

    <!-- Modal -->
    <div id="uploadModal" class="newModal">
      <div class="newModal-content">
        <div class="newModal-header">
          <h2>Upload Flightpath</h2>
          <span class="close" id="close">&times;</span>
        </div>
        <div class="newModal-body">
          <P>Accepted flightpath format is a GeoJSON-object with points and/or line-strings. The coordinate array has to be
            "[latitude, longitude, altitude]"</P>
          <form action='/' method='POST' encType="multipart/form-data">
            <input type="file" name="geoUpload" id="pathUpload" required/><br>
            <input type='submit' value='Upload!' />
          </form>  
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div id="imageModal" class="newModal">
      <div class="newModal-content">
        <div class="newModal-header">
          <h2>Upload Flight-Images</h2>
          <span class="close" id="close">&times;</span>
        </div>
        <div class="newModal-body">
          <P>You can upload any number of images as long as they are named "1.png, 2.png, ..., n.png"
            <br> Additionally a .txt file containing the coordinate for each image has to be included where each line is formatted: [image-number, x-coord, y-coord, z-coord].
          </P>
          <form action='/' method='POST' encType="multipart/form-data">
            <input type="file" name="imgUpload" id="imgUpload" required/><br>
            <input type='submit' value='Upload!' />
          </form>  
        </div>
      </div>
    </div>

    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/main.js"></script>

    <script src="assets/js/lineMaterial.js"></script>
    <script src="assets/js/geoJSON.js"></script>

    <script src="scripts/axios/dist/axios.min.js"></script>
    <script src="scripts/handlebars/dist/handlebars.min.js"></script>
    <script src="scripts/vanilla-router/dist/vanilla-router.min.js"></script>
    <script src="js/app.js"></script>

  </body>
</html> 